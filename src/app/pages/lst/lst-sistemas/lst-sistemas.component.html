<div class="card sistemas-card shadow-sm rounded-4 my-4">

  <!-- CABECERA -->
  <div
    class="card-header sistemas-header d-flex justify-content-between align-items-center px-4 py-3"
  >
    <div class="d-flex align-items-center gap-2">
      <i class="bi bi-diagram-3-fill fs-4"></i>
      <h5 class="m-0 fw-semibold">Listado de Sistemas</h5>
    </div>

    <button
      type="button"
      class="btn btn-light fw-semibold rounded-pill px-4 shadow-sm btn-add"
      (click)="linkear(0)"
    >
      <i class="bi bi-plus-circle-fill me-2"></i>
      Agregar Sistema
    </button>
  </div>

  <!-- FILTROS -->
  <div class="px-4 pt-4">
    <app-fil-sistemas
      (emmit)="doFound($event)"
      class="w-100"
    ></app-fil-sistemas>
  </div>

  <!-- TABLA -->
  <div class="table-responsive mt-3">
    <table class="table table-hover align-middle mb-0 sistemas-table">

      <thead>
        <tr>
          <th>Sistema</th>
          <th class="text-center">Año</th>
          <th>Unidad</th>
          <th class="text-center">Disposición</th>
          <th class="text-center">Fecha</th>
          <th class="text-center">Acceso</th>
          <th class="text-center">Estado</th>
          <th>Observaciones</th>
        </tr>
      </thead>

      <tbody>

        <!-- LISTADO -->
        <tr *ngFor="let item of items">
          <td class="fw-semibold text-primary">
            {{ item.nombreSistema }}
          </td>

          <td class="text-center">
            {{ item.anioImplementacion }}
          </td>

          <td>{{ item.nombreUnidad }}</td>

          <td class="text-center">
            {{ item.disposicion }}
          </td>

          <td class="text-center">
            {{ item.fechaDisposicion | date:'dd/MM/yyyy' }}
          </td>

          <td class="text-center">
            <a
              *ngIf="item.linkAcceso"
              [href]="item.linkAcceso"
              target="_blank"
              class="btn btn-sm btn-outline-primary rounded-circle"
              title="Abrir sistema"
            >
              <i class="bi bi-box-arrow-up-right"></i>
            </a>
          </td>

          <td class="text-center">
            <span
              class="badge estado-badge"
              [ngClass]="{
                'estado-dev': item.estado === 'en desarrollo',
                'estado-ok': item.estado === 'desarrollado'
              }"
            >
              {{ item.estado }}
            </span>
          </td>

          <td class="text-muted small text-truncate" style="max-width: 260px;">
            {{ item.observaciones || '—' }}
          </td>
        </tr>

        <!-- EMPTY STATE -->
        <tr *ngIf="items.length === 0">
          <td colspan="8">
            <div class="empty-state d-flex flex-column align-items-center justify-content-center py-5">
              <i class="bi bi-inbox fs-1 mb-3"></i>

              <h6 class="fw-semibold mb-1">
                No hay sistemas registrados
              </h6>

              <p class="text-muted mb-3 text-center">
                Aún no se cargaron sistemas en la plataforma.<br />
                Podés comenzar agregando uno nuevo.
              </p>

              <!-- <button
                class="btn btn-primary rounded-pill px-4 shadow-sm"
                (click)="agregarSistema()"
              >
                <i class="bi bi-plus-circle me-2"></i>
                Agregar Sistema
              </button> -->
            </div>
          </td>
        </tr>

      </tbody>

    </table>
  </div>

</div>
